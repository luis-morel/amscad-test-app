(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e){e.exports=[{id:1,name:"AMS CAD + CAFM Solutions",imageUrl:"../../images/LogoWithText.png"},{id:2,name:"AMS CAD + CAFM Solutions",imageUrl:"../../images/LogoNoText.png"}]},26:function(e,t,a){e.exports=a(69)},31:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(25),o=a.n(r),i=(a(31),a(7)),s=a(8),c=a(10),m=a(9),u=a(11),d=a(71),g=a(73),p=a(5),f=a.n(p),h={addNewBldg:function(e){return f.a.post("/api/buildings/createnewbldg",e)},addNewFloor:function(e){return f.a.post("/api/buildings/floors/createnewfloor",e)},addNewRoom:function(e){return f.a.post("/api/buildings/floors/rooms/createnewroom",e)},addNewUser:function(e){return f.a.post("/api/users/createnewuser",e)},getAllBldgs:function(){return f.a.get("/api/buildings/listall")},getFloorsInBldg:function(e){return f.a.get("/api/buildings/floors/listall/".concat(e))},getOneBldg:function(e){return f.a.get("/api/buildings/findone/".concat(e))},getOneFloor:function(e){return f.a.get("/api/buildings/floors/findone/".concat(e))},getRoomsInFloor:function(e){return f.a.get("/api/buildings/floors/listrooms/".concat(e))},getLoggedOnUser:function(){return f.a.get("/auth/getuser")},login:function(e){return f.a.post("/auth/login",e)},logout:function(){return f.a.get("/auth/logout")}},E=(a(52),a(18)),v=function(){return l.a.createElement("nav",{className:"navbar navbar-expand-lg"},l.a.createElement("div",{className:"navBarCoHeader"},l.a.createElement("img",{id:"navBarLogoText",src:E[0].imageUrl,alt:E[0].name})),l.a.createElement("div",{className:"navBarAppHeader"},l.a.createElement("h3",{id:"navBarAppText"},"Facilities Management System")))},N=a(13),b=a(70),w=function(e){var t=e.children;return l.a.createElement("div",{className:"container"},t)},I=function(e){var t=e.children;return l.a.createElement("div",{className:"row"},t)},y=function(e){var t=e.children,a=e.size,n=e.span,r=void 0===n?12:n,o=e.offset,i=a?"col-".concat(a,"-").concat(r):"col-".concat(r);return i=o?"".concat(i," offset-").concat(o):i,l.a.createElement("div",{className:i},t)},C=(a(54),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={loggedIn:a.props.loggedIn,user:a.props.user,buildingList:[],name:"",location:"",states:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]},a.componentDidMount=function(){a.getBuildingList()},a.duplicateCheck=function(e,t){for(var n=a.state.buildingList,l=0;l<n.length;l++)if(e===n[l].name&&t===n[l].location)return!0;return!1},a.getBuildingList=function(){h.getAllBldgs().then(function(e){console.log("\ngetBuildingList() results = ".concat(JSON.stringify(e),"\n")),a.setState({buildingList:e.data})})},a.handleInputChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(N.a)({},n,l))},a.handleNewBldg=function(e){e.preventDefault();var t=e.target.name.value,n=e.target.location.value;t&&n?(t=a.props.titleCase(t),a.duplicateCheck(t,n)?alert("Building already exists! Please use a different name and/or location."):h.addNewBldg({name:t,location:n}).then(function(){a.getBuildingList(),alert("New building added successfully!"),a.setState({name:"",location:""})})):alert("All fields required!")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(w,null,l.a.createElement(I,null,l.a.createElement(y,{size:"md",span:"12"},l.a.createElement("div",null,l.a.createElement("h3",null,"Building Administration - Add New Building"),l.a.createElement("hr",null)))),l.a.createElement(I,null,l.a.createElement(y,{size:"md",span:"4"},l.a.createElement("div",{className:"genFormSettings"},l.a.createElement("form",{onSubmit:this.handleNewBldg},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"name"},"Building Name"),l.a.createElement("input",{name:"name",className:"form-control",placeholder:"Building Name...",onChange:this.handleInputChange,value:this.state.name,type:"name",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"location"},"Location"),l.a.createElement("select",{name:"location",id:"locationInput",className:"form-control selectStyling",onChange:this.handleInputChange,value:this.state.location,type:"location"},l.a.createElement("option",{value:"",disabled:!0},"Location (US State)..."),this.state.states.map(function(e){return l.a.createElement("option",{key:e,value:e},e)}))),l.a.createElement("div",null,l.a.createElement("button",{className:"genAppBtn",type:"submit"},"ADD NEW BLDG"))))),l.a.createElement(y,{size:"md",span:"8"},l.a.createElement("div",{id:"buildingDisplayContainer"},l.a.createElement("div",{id:"buildingDisplayHeader"},"Buildings"),l.a.createElement("hr",{id:"buildingDisplayHr"}),l.a.createElement("div",{id:"buildingDisplay"},0===this.state.buildingList.length?"* No Buildings Have Been Added":this.state.buildingList.map(function(e){return l.a.createElement(b.a,{key:e.id,to:{pathname:"/buildings/floors/addnewfloor/".concat(e.id)},target:"_blank"},l.a.createElement("button",{className:"buildingDisplayBtn"},e.name,", ",e.location))}))))))}}]),t}(l.a.Component)),O=(a(60),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={loggedIn:a.props.loggedIn,user:a.props.user,building:{},buildingId:a.props.params.bldgId,buildingName:"",floorList:[],floorName:""},a.componentDidMount=function(){a.getActiveBuilding(a.state.buildingId),a.getFloorList(a.state.buildingId)},a.duplicateCheck=function(e){for(var t=a.state.floorList,n=0;n<t.length;n++)if(e===t[n].name)return!0;return!1},a.getActiveBuilding=function(e){h.getOneBldg(e).then(function(e){console.log("\ngetActiveBuilding() results = ".concat(JSON.stringify(e),"\n")),a.setState({building:e.data,buildingName:e.data.name})})},a.getFloorList=function(e){h.getFloorsInBldg(e).then(function(e){console.log("\ngetFloorList() results = ".concat(JSON.stringify(e),"\n")),a.setState({floorList:e.data})})},a.handleInputChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(N.a)({},n,l))},a.handleNewFloor=function(e){e.preventDefault();var t=e.target.floorName.value;t?(t=a.props.titleCase(t),a.duplicateCheck(t)?alert("Floor name already exists! Please use a different name!"):h.addNewFloor({BuildingId:a.state.buildingId,name:t}).then(function(){a.getFloorList(a.state.buildingId),alert("New floor added successfully!"),a.setState({floorName:""})})):alert("Floor name required! Please enter a floor name.")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(w,null,l.a.createElement(I,null,l.a.createElement(y,{size:"md",span:"12"},l.a.createElement("div",null,l.a.createElement("h3",null,"Building Administration - Add New Floor"),l.a.createElement("hr",null)))),l.a.createElement(I,null,l.a.createElement(y,{size:"md",span:"4"},l.a.createElement("div",{className:"genFormSettings"},l.a.createElement("form",{onSubmit:this.handleNewFloor},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"buildingName"},"Building Name"),l.a.createElement("input",{name:"buildingName",className:"form-control",value:this.state.buildingName,type:"buildingName",readOnly:!0})),l.a.createElement("div",{className:"form-group",style:this.state.showFields},l.a.createElement("label",{htmlFor:"floorName"},"Floor Name"),l.a.createElement("input",{name:"floorName",className:"form-control",placeholder:"Floor Name...",onChange:this.handleInputChange,value:this.state.floorName,type:"floorName"})),l.a.createElement("div",null,l.a.createElement("button",{className:"genAppBtn",type:"submit"},"ADD NEW FLOOR"))))),l.a.createElement(y,{size:"md",span:"8"},l.a.createElement("div",{id:"floorDisplay"},l.a.createElement("div",{id:"floorDisplayHeader"},this.state.buildingName," > Floors"),l.a.createElement("hr",{id:"floorDisplayHr"}),l.a.createElement("div",{id:"floorData"},0===this.state.floorList.length?"* No Floors Have Been Added":this.state.floorList.map(function(t){return l.a.createElement(b.a,{key:t.id,to:{pathname:"/buildings/floors/rooms/addnewroom/".concat(e.state.buildingId,"/").concat(t.id)},target:"_blank"},l.a.createElement("button",{className:"floorDisplayBtn"},t.name))}))))))}}]),t}(l.a.Component)),A=(a(62),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={loggedIn:a.props.loggedIn,user:a.props.user,buildingId:a.props.params.bldgId,floor:{},floorId:a.props.params.floorId,floorName:"",building:{},buildingName:"",roomList:[],roomName:""},a.componentDidMount=function(){a.getActiveBuilding(a.state.buildingId),a.getActiveFloor(a.state.floorId),a.getRoomList(a.state.floorId),console.log("\nAddNewRooms props = ".concat(JSON.stringify(a.props)))},a.duplicateCheck=function(e){for(var t=a.state.roomList,n=0;n<t.length;n++)if(e===t[n].name)return!0;return!1},a.getActiveBuilding=function(e){h.getOneBldg(e).then(function(e){console.log("\ngetActiveBuilding() results = ".concat(JSON.stringify(e),"\n")),a.setState({building:e.data,buildingName:e.data.name})})},a.getActiveFloor=function(e){h.getOneFloor(e).then(function(e){console.log("\ngetActiveFloor() 'results' = ".concat(JSON.stringify(e),"\n")),a.setState({floor:e.data,floorName:e.data.name})})},a.getRoomList=function(e){h.getRoomsInFloor(e).then(function(e){console.log("getRoomsInFloor() results: ".concat(JSON.stringify(e))),a.setState({roomList:e.data})})},a.handleInputChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(N.a)({},n,l))},a.handleNewRoom=function(e){e.preventDefault();var t=e.target.roomName.value;t?(t=a.props.titleCase(t),a.duplicateCheck(t)?alert("Floor name already exists! Please use a different name!"):h.addNewRoom({FloorId:a.state.floorId,name:t}).then(function(){a.getRoomList(a.state.floorId),alert("New room added successfully!"),a.setState({roomName:""})})):alert("Room name required! Please enter a room name.")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(w,null,l.a.createElement(I,null,l.a.createElement(y,{size:"md",span:"12"},l.a.createElement("div",null,l.a.createElement("h3",null,"Building Administration - Add New Room"),l.a.createElement("hr",null)))),l.a.createElement(I,null,l.a.createElement(y,{size:"md",span:"4"},l.a.createElement("div",{className:"genFormSettings"},l.a.createElement("form",{onSubmit:this.handleNewRoom},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"buildingName"},"Building Name"),l.a.createElement("input",{name:"buildingName",className:"form-control",value:this.state.buildingName,type:"buildingName",readOnly:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"floorName"},"Floor Name"),l.a.createElement("input",{name:"floorName",className:"form-control",value:this.state.floorName,type:"floorName",readOnly:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"roomName"},"Room Name"),l.a.createElement("input",{name:"roomName",className:"form-control",placeholder:"Room Name...",onChange:this.handleInputChange,value:this.state.roomName,type:"roomName"})),l.a.createElement("div",null,l.a.createElement("button",{className:"genAppBtn",type:"submit"},"ADD NEW ROOM"))))),l.a.createElement(y,{size:"md",span:"8"},l.a.createElement("div",{id:"roomDisplay"},l.a.createElement("div",{id:"roomDisplayHeader"},this.state.buildingName," > Floor: ",this.state.floorName," > Rooms"),l.a.createElement("hr",{id:"roomDisplayHr"}),l.a.createElement("div",{id:"roomData"},0===this.state.roomList.length?"* No Rooms Have Been Added":this.state.roomList.map(function(e){return l.a.createElement("button",{key:e.id,className:"roomDisplayBtn"},e.name)}))))))}}]),t}(l.a.Component)),F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={loggedIn:a.props.loggedIn,user:a.props.user,name:"",title:"",userImageUrl:"",email:"",password:""},a.handleInputChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(N.a)({},n,l))},a.handleNewUser=function(e){e.preventDefault();var t=e.target.name.value,n=e.target.title.value,l=e.target.userImageUrl.value,r=e.target.email.value,o=e.target.password.value;t&&n&&l&&r&&o?h.addNewUser({name:t,title:n,userImageUrl:l,email:r,password:o}).then(function(){alert("New user added successfully!"),a.setState({name:"",title:"",userImageUrl:"",email:"",password:""})}):alert("All fields required!")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(w,null,l.a.createElement(I,null,l.a.createElement(y,{size:"md",span:"12"},l.a.createElement("div",null,l.a.createElement("h3",null,"User Administration - Add New User"),l.a.createElement("hr",null)))),l.a.createElement(I,null,l.a.createElement(y,{size:"md",span:"4"},l.a.createElement("div",{className:"genFormSettings"},l.a.createElement("form",{onSubmit:this.handleNewUser},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"name"},"Name"),l.a.createElement("input",{name:"name",className:"form-control",placeholder:"Name...",onChange:this.handleInputChange,value:this.state.name,type:"name",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"title"},"Title"),l.a.createElement("input",{name:"title",className:"form-control",placeholder:"Title...",onChange:this.handleInputChange,value:this.state.title,type:"title",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"userImageUrl"},"Profile Image Url"),l.a.createElement("input",{name:"userImageUrl",className:"form-control",placeholder:"Profile Image Url...",onChange:this.handleInputChange,value:this.state.userImageUrl,type:"userImageUrl",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"E-mail"),l.a.createElement("input",{name:"email",className:"form-control",placeholder:"Email...",onChange:this.handleInputChange,value:this.state.email,type:"email",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{name:"password",className:"form-control",placeholder:"Password...",onChange:this.handleInputChange,value:this.state.password,type:"password",required:!0})),l.a.createElement("div",null,l.a.createElement("button",{className:"genAppBtn",type:"submit"},"ADD NEW USER"))))),l.a.createElement(y,{size:"md",span:"4"}),l.a.createElement(y,{size:"md",span:"2"})))}}]),t}(l.a.Component),B=a(72),S=(a(64),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:"",redirectTo:""},a.componentWillMount=function(){a.props.loggedIn&&a.setState({redirectTo:"/feed"})},a.handleInputChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(N.a)({},n,l))},a.handleLogin=function(e){e.preventDefault(),h.login({email:a.state.email,password:a.state.password}).then(function(e){a.props.setUser(e.data.user),a.setState({redirectTo:"/feed"})})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state.redirectTo?l.a.createElement(B.a,{to:this.state.redirectTo}):l.a.createElement(w,null,l.a.createElement(I,null,l.a.createElement(y,{size:"md",span:"4"}),l.a.createElement(y,{size:"md",span:"4"},l.a.createElement("div",null,l.a.createElement("h3",{id:"loginFormHeader"},"Welcome to AMS"),l.a.createElement("form",{onSubmit:this.handleLogin},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{name:"email",className:"form-control",type:"text",value:this.state.email,onChange:this.handleInputChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{name:"password",className:"form-control",type:"password",value:this.state.password,onChange:this.handleInputChange})),l.a.createElement("button",{className:"loginBtn genAppBtn",type:"submit"},"LOGIN")))),l.a.createElement(y,{size:"md",span:"4"})))}}]),t}(l.a.Component)),L=(a(67),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={loading:"initial",loggedIn:!1,user:null},a.handleLogout=function(){h.logout().then(function(){a.setState({user:null,loggedIn:!1})})},a.setUser=function(e){a.setState({user:e,loggedIn:!0})},a.titleCase=function(e){return e.toLowerCase().split(" ").map(function(e){return e.replace(e[0],e[0].toUpperCase())}).join(" ")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:"false"})}},{key:"render",value:function(){var e=this;return"initial"===this.state.loading?l.a.createElement("h2",null,"Intializing..."):"true"===this.state.loading?l.a.createElement("h2",null,"Loading..."):l.a.createElement(d.a,null,l.a.createElement("div",null,l.a.createElement(v,null),l.a.createElement(g.a,{exact:!0,path:"/",render:function(){return l.a.createElement(S,{loggedIn:e.state.loggedIn,user:e.state.user})}}),l.a.createElement(g.a,{exact:!0,path:"/buildings/addnewbldg",render:function(){return l.a.createElement(C,{loggedIn:e.state.loggedIn,user:e.state.user,titleCase:e.titleCase})}}),l.a.createElement(g.a,{exact:!0,path:"/buildings/floors/addnewfloor/:bldgId",render:function(t){var a=t.match;return l.a.createElement(O,{loggedIn:e.state.loggedIn,user:e.state.user,params:a.params,titleCase:e.titleCase})}}),l.a.createElement(g.a,{exact:!0,path:"/buildings/floors/rooms/addnewroom/:bldgId/:floorId",render:function(t){var a=t.match;return l.a.createElement(A,{loggedIn:e.state.loggedIn,user:e.state.user,params:a.params,titleCase:e.titleCase})}}),l.a.createElement(g.a,{exact:!0,path:"/users/addnewuser",render:function(){return l.a.createElement(F,{loggedIn:e.state.loggedIn,user:e.state.user})}}),l.a.createElement(g.a,{exact:!0,path:"/login",render:function(){return l.a.createElement(S,{setUser:e.setUser,loggedIn:e.state.loggedIn,user:e.state.user})}})))}}]),t}(l.a.Component)),j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(l.a.createElement(L,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");j?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):D(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):D(e)})}}()}},[[26,2,1]]]);
//# sourceMappingURL=main.96cd53a2.chunk.js.map